{"ast":null,"code":"\n\n// import { useState } from \"react\";\n\n// const LogPage = () => {\n//   const [formData, setFormData] = useState({\n//     username: \"\",\n//     role: \"\",\n//   });\n//   const [error, setError] = useState(\"\");\n//   const [isLoading, setIsLoading] = useState(false);\n\n//   const handleChange = (e) => {\n//     setFormData({\n//       ...formData,\n//       [e.target.name]: e.target.value,\n//     });\n//   };\n\n//   const handleLogin = async (e) => {\n//     e.preventDefault();\n//     setIsLoading(true);\n//     setError(\"\");\n\n//     try {\n//       // Fetch user data to verify credentials\n//       const response = await fetch(\"http://localhost:2323/users\");\n//       if (!response.ok) {\n//         throw new Error(\"Failed to fetch user data\");\n//       }\n//       const users = await response.json();\n\n//       // Find user matching both username and role\n//       const user = users.find(\n//         (u) =>\n//           u.name.toLowerCase() === formData.username.toLowerCase() &&\n//           u.role === formData.role\n//       );\n\n//       if (user) {\n//         // Store user info in sessionStorage for persistence\n//         sessionStorage.setItem(\n//           \"currentUser\",\n//           JSON.stringify({\n//             id: user.id,\n//             name: user.name,\n//             role: user.role,\n//             email: user.email,\n//           })\n//         );\n\n//         // Navigate based on role\n//         switch (user.role) {\n//           case \"Super Admin\":\n//             window.location.href = \"/sadashboard\";\n//             break;\n//           case \"Admin\":\n//             window.location.href = \"/adashboard\";\n//             break;\n//           case \"User\":\n//             window.location.href = \"/udashboard\";\n//             break;\n//           default:\n//             window.location.href = \"/dashboard\";\n//         }\n//       } else {\n//         setError(\"Invalid username or role combination\");\n//       }\n//     } catch (err) {\n//       console.error(\"Login error:\", err);\n//       setError(err.message || \"An error occurred during login\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n\n//   return (\n//     <div className=\"container\">\n//       <div className=\"row justify-content-center align-items-center min-vh-100\">\n//         <div className=\"col-md-6 col-lg-4\">\n//           <div className=\"card shadow\">\n//             <div className=\"card-body p-4\">\n//               <h2 className=\"text-center mb-4\">Login to DevAgentHub</h2>\n\n//               <form onSubmit={handleLogin}>\n//                 {error && (\n//                   <div className=\"alert alert-danger\" role=\"alert\">\n//                     {error}\n//                   </div>\n//                 )}\n\n//                 <div className=\"mb-3\">\n//                   <label htmlFor=\"username\" className=\"form-label\">\n//                     Username\n//                   </label>\n//                   <input\n//                     id=\"username\"\n//                     name=\"username\"\n//                     type=\"text\"\n//                     className=\"form-control\"\n//                     placeholder=\"Enter your username\"\n//                     value={formData.username}\n//                     onChange={handleChange}\n//                     required\n//                   />\n//                 </div>\n\n//                 <div className=\"mb-3\">\n//                   <label htmlFor=\"role\" className=\"form-label\">\n//                     Role\n//                   </label>\n//                   <select\n//                     id=\"role\"\n//                     name=\"role\"\n//                     className=\"form-control\"\n//                     value={formData.role}\n//                     onChange={handleChange}\n//                     required\n//                   >\n//                     <option value=\"\">Select Role</option>\n//                     <option value=\"Super Admin\">Super Admin</option>\n//                     <option value=\"Admin\">Admin</option>\n//                     <option value=\"User\">User</option>\n//                   </select>\n//                 </div>\n\n//                 <button\n//                   type=\"submit\"\n//                   className=\"btn btn-primary w-100 mb-3\"\n//                   disabled={isLoading}\n//                 >\n//                   {isLoading ? (\n//                     <>\n//                       <span\n//                         className=\"spinner-border spinner-border-sm me-2\"\n//                         role=\"status\"\n//                         aria-hidden=\"true\"\n//                       ></span>\n//                       Logging in...\n//                     </>\n//                   ) : (\n//                     \"Sign in\"\n//                   )}\n//                 </button>\n\n//                 <div className=\"text-center mb-3\">\n//                   <a href=\"/forgot-password\" className=\"text-decoration-none\">\n//                     Forgot password?\n//                   </a>\n//                 </div>\n\n//                 <div className=\"text-center\">\n//                   <span>Don't have an account? </span>\n//                   <a href=\"/signup\" className=\"text-decoration-none\">\n//                     Sign up\n//                   </a>\n//                 </div>\n//               </form>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default LogPage;","map":{"version":3,"names":[],"sources":["D:/reactJS/taskShiftWave/fe/src/Pages/log.jsx"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import { useState } from \"react\";\r\n\r\n// const LogPage = () => {\r\n//   const [formData, setFormData] = useState({\r\n//     username: \"\",\r\n//     role: \"\",\r\n//   });\r\n//   const [error, setError] = useState(\"\");\r\n//   const [isLoading, setIsLoading] = useState(false);\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({\r\n//       ...formData,\r\n//       [e.target.name]: e.target.value,\r\n//     });\r\n//   };\r\n\r\n//   const handleLogin = async (e) => {\r\n//     e.preventDefault();\r\n//     setIsLoading(true);\r\n//     setError(\"\");\r\n\r\n//     try {\r\n//       // Fetch user data to verify credentials\r\n//       const response = await fetch(\"http://localhost:2323/users\");\r\n//       if (!response.ok) {\r\n//         throw new Error(\"Failed to fetch user data\");\r\n//       }\r\n//       const users = await response.json();\r\n\r\n//       // Find user matching both username and role\r\n//       const user = users.find(\r\n//         (u) =>\r\n//           u.name.toLowerCase() === formData.username.toLowerCase() &&\r\n//           u.role === formData.role\r\n//       );\r\n\r\n//       if (user) {\r\n//         // Store user info in sessionStorage for persistence\r\n//         sessionStorage.setItem(\r\n//           \"currentUser\",\r\n//           JSON.stringify({\r\n//             id: user.id,\r\n//             name: user.name,\r\n//             role: user.role,\r\n//             email: user.email,\r\n//           })\r\n//         );\r\n\r\n//         // Navigate based on role\r\n//         switch (user.role) {\r\n//           case \"Super Admin\":\r\n//             window.location.href = \"/sadashboard\";\r\n//             break;\r\n//           case \"Admin\":\r\n//             window.location.href = \"/adashboard\";\r\n//             break;\r\n//           case \"User\":\r\n//             window.location.href = \"/udashboard\";\r\n//             break;\r\n//           default:\r\n//             window.location.href = \"/dashboard\";\r\n//         }\r\n//       } else {\r\n//         setError(\"Invalid username or role combination\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Login error:\", err);\r\n//       setError(err.message || \"An error occurred during login\");\r\n//     } finally {\r\n//       setIsLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container\">\r\n//       <div className=\"row justify-content-center align-items-center min-vh-100\">\r\n//         <div className=\"col-md-6 col-lg-4\">\r\n//           <div className=\"card shadow\">\r\n//             <div className=\"card-body p-4\">\r\n//               <h2 className=\"text-center mb-4\">Login to DevAgentHub</h2>\r\n\r\n//               <form onSubmit={handleLogin}>\r\n//                 {error && (\r\n//                   <div className=\"alert alert-danger\" role=\"alert\">\r\n//                     {error}\r\n//                   </div>\r\n//                 )}\r\n\r\n//                 <div className=\"mb-3\">\r\n//                   <label htmlFor=\"username\" className=\"form-label\">\r\n//                     Username\r\n//                   </label>\r\n//                   <input\r\n//                     id=\"username\"\r\n//                     name=\"username\"\r\n//                     type=\"text\"\r\n//                     className=\"form-control\"\r\n//                     placeholder=\"Enter your username\"\r\n//                     value={formData.username}\r\n//                     onChange={handleChange}\r\n//                     required\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div className=\"mb-3\">\r\n//                   <label htmlFor=\"role\" className=\"form-label\">\r\n//                     Role\r\n//                   </label>\r\n//                   <select\r\n//                     id=\"role\"\r\n//                     name=\"role\"\r\n//                     className=\"form-control\"\r\n//                     value={formData.role}\r\n//                     onChange={handleChange}\r\n//                     required\r\n//                   >\r\n//                     <option value=\"\">Select Role</option>\r\n//                     <option value=\"Super Admin\">Super Admin</option>\r\n//                     <option value=\"Admin\">Admin</option>\r\n//                     <option value=\"User\">User</option>\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <button\r\n//                   type=\"submit\"\r\n//                   className=\"btn btn-primary w-100 mb-3\"\r\n//                   disabled={isLoading}\r\n//                 >\r\n//                   {isLoading ? (\r\n//                     <>\r\n//                       <span\r\n//                         className=\"spinner-border spinner-border-sm me-2\"\r\n//                         role=\"status\"\r\n//                         aria-hidden=\"true\"\r\n//                       ></span>\r\n//                       Logging in...\r\n//                     </>\r\n//                   ) : (\r\n//                     \"Sign in\"\r\n//                   )}\r\n//                 </button>\r\n\r\n//                 <div className=\"text-center mb-3\">\r\n//                   <a href=\"/forgot-password\" className=\"text-decoration-none\">\r\n//                     Forgot password?\r\n//                   </a>\r\n//                 </div>\r\n\r\n//                 <div className=\"text-center\">\r\n//                   <span>Don't have an account? </span>\r\n//                   <a href=\"/signup\" className=\"text-decoration-none\">\r\n//                     Sign up\r\n//                   </a>\r\n//                 </div>\r\n//               </form>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default LogPage;\r\n"],"mappings":";;AA+BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}