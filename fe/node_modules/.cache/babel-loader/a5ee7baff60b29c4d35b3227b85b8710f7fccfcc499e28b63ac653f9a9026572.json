{"ast":null,"code":"// import { useState } from \"react\";\n\n// const LogPage = () => {\n//   const [formData, setFormData] = useState({\n//     username: \"\",\n//     role: \"\",\n//   });\n//   const [error, setError] = useState(\"\");\n//   const [isLoading, setIsLoading] = useState(false);\n\n//   const handleChange = (e) => {\n//     setFormData({\n//       ...formData,\n//       [e.target.name]: e.target.value,\n//     });\n//   };\n\n//   const handleLogin = async (e) => {\n//     e.preventDefault();\n//     setIsLoading(true);\n//     setError(\"\");\n\n//     try {\n//       const response = await fetch(\"http://localhost:2323/users\");\n//       if (!response.ok) {\n//         throw new Error(\"Failed to fetch user data\");\n//       }\n//       const users = await response.json();\n\n//       const user = users.find(\n//         (u) =>\n//           u.name.toLowerCase() === formData.username.toLowerCase() &&\n//           u.role === formData.role\n//       );\n\n//       if (user) {\n//         sessionStorage.setItem(\"currentUserId\", user.id);\n//         switch (user.role) {\n//           case \"Super Admin\":\n//             window.location.href = \"/sadashboard\";\n//             break;\n//           case \"Admin\":\n//             window.location.href = \"/adashboard\";\n//             break;\n//           case \"User\":\n//             window.location.href = \"/udashboard\";\n//             break;\n//           default:\n//             window.location.href = \"/dashboard\";\n//         }\n//       } else {\n//         setError(\"Invalid username or role combination\");\n//       }\n//     } catch (err) {\n//       console.error(\"Login error:\", err);\n//       setError(err.message || \"An error occurred during login\");\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   };\n\n//   return (\n//     <div\n//       className=\"\"\n//       style={{\n//         background:\n//           \"https://static.vecteezy.com/system/resources/previews/010/847/581/non_2x/gradient-background-for-covers-wallpaper-social-media-web-design-and-many-other-vector.jpg\",\n//         minHeight: \"100vh\",\n//       }}\n//     >\n//       <div className=\"row justify-content-center align-items-center min-vh-100\">\n//         <div className=\"col-lg-4\">\n//           <div className=\"card border-dark border\">\n//             <div className=\" card-body p-4\">\n//               <h3>ACCESS MANAGEMENT SYSTEM</h3>\n//               <form onSubmit={handleLogin}>\n//                 {error && (\n//                   <div className=\"alert alert-danger text-center\" role=\"alert\">\n//                     {error}\n//                   </div>\n//                 )}\n\n//                 <div className=\"mb-4 mt-4\">\n//                   <label htmlFor=\"username\" className=\"form-label fw-bold\">\n//                     Username\n//                   </label>\n//                   <input\n//                     id=\"username\"\n//                     name=\"username\"\n//                     type=\"text\"\n//                     className=\"form-control form-control-lg\"\n//                     placeholder=\"Enter your username\"\n//                     value={formData.username}\n//                     onChange={handleChange}\n//                     required\n//                   />\n//                 </div>\n\n//                 <div className=\"mb-4\">\n//                   <label htmlFor=\"role\" className=\"form-label fw-bold\">\n//                     Role\n//                   </label>\n//                   <select\n//                     id=\"role\"\n//                     name=\"role\"\n//                     className=\"form-control form-control-lg\"\n//                     value={formData.role}\n//                     onChange={handleChange}\n//                     required\n//                   >\n//                     <option value=\"\">Select Role</option>\n//                     <option value=\"Super Admin\">Super Admin</option>\n//                     <option value=\"Admin\">Admin</option>\n//                     <option value=\"User\">User</option>\n//                   </select>\n//                 </div>\n\n//                 <button\n//                   type=\"submit\"\n//                   className=\"btn btn-primary w-100 btn-lg mb-3\"\n//                   disabled={isLoading}\n//                   style={{\n//                     borderRadius: \"10px\",\n//                     background: \"#007bff\",\n//                     borderColor: \"#007bff\",\n//                   }}\n//                 >\n//                   {isLoading ? (\n//                     <>\n//                       <span\n//                         className=\"spinner-border spinner-border-sm me-2\"\n//                         role=\"status\"\n//                         aria-hidden=\"true\"\n//                       ></span>\n//                       Logging in...\n//                     </>\n//                   ) : (\n//                     \"Sign in\"\n//                   )}\n//                 </button>\n//               </form>\n//               <p>Don't have an account?</p>\n//               <button className=\"btn btn-success bg-opacity-25 form-control btn-lg\" onSubmit={(window.location.href =\"/register\")}>\n//                 register\n//               </button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default LogPage;","map":{"version":3,"names":[],"sources":["D:/reactJS/taskShiftWave/fe/src/Pages/log.jsx"],"sourcesContent":["// import { useState } from \"react\";\r\n\r\n// const LogPage = () => {\r\n//   const [formData, setFormData] = useState({\r\n//     username: \"\",\r\n//     role: \"\",\r\n//   });\r\n//   const [error, setError] = useState(\"\");\r\n//   const [isLoading, setIsLoading] = useState(false);\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({\r\n//       ...formData,\r\n//       [e.target.name]: e.target.value,\r\n//     });\r\n//   };\r\n\r\n//   const handleLogin = async (e) => {\r\n//     e.preventDefault();\r\n//     setIsLoading(true);\r\n//     setError(\"\");\r\n\r\n//     try {\r\n//       const response = await fetch(\"http://localhost:2323/users\");\r\n//       if (!response.ok) {\r\n//         throw new Error(\"Failed to fetch user data\");\r\n//       }\r\n//       const users = await response.json();\r\n\r\n//       const user = users.find(\r\n//         (u) =>\r\n//           u.name.toLowerCase() === formData.username.toLowerCase() &&\r\n//           u.role === formData.role\r\n//       );\r\n\r\n//       if (user) {\r\n//         sessionStorage.setItem(\"currentUserId\", user.id);\r\n//         switch (user.role) {\r\n//           case \"Super Admin\":\r\n//             window.location.href = \"/sadashboard\";\r\n//             break;\r\n//           case \"Admin\":\r\n//             window.location.href = \"/adashboard\";\r\n//             break;\r\n//           case \"User\":\r\n//             window.location.href = \"/udashboard\";\r\n//             break;\r\n//           default:\r\n//             window.location.href = \"/dashboard\";\r\n//         }\r\n//       } else {\r\n//         setError(\"Invalid username or role combination\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Login error:\", err);\r\n//       setError(err.message || \"An error occurred during login\");\r\n//     } finally {\r\n//       setIsLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div\r\n//       className=\"\"\r\n//       style={{\r\n//         background:\r\n//           \"https://static.vecteezy.com/system/resources/previews/010/847/581/non_2x/gradient-background-for-covers-wallpaper-social-media-web-design-and-many-other-vector.jpg\",\r\n//         minHeight: \"100vh\",\r\n//       }}\r\n//     >\r\n//       <div className=\"row justify-content-center align-items-center min-vh-100\">\r\n//         <div className=\"col-lg-4\">\r\n//           <div className=\"card border-dark border\">\r\n//             <div className=\" card-body p-4\">\r\n//               <h3>ACCESS MANAGEMENT SYSTEM</h3>\r\n//               <form onSubmit={handleLogin}>\r\n//                 {error && (\r\n//                   <div className=\"alert alert-danger text-center\" role=\"alert\">\r\n//                     {error}\r\n//                   </div>\r\n//                 )}\r\n\r\n//                 <div className=\"mb-4 mt-4\">\r\n//                   <label htmlFor=\"username\" className=\"form-label fw-bold\">\r\n//                     Username\r\n//                   </label>\r\n//                   <input\r\n//                     id=\"username\"\r\n//                     name=\"username\"\r\n//                     type=\"text\"\r\n//                     className=\"form-control form-control-lg\"\r\n//                     placeholder=\"Enter your username\"\r\n//                     value={formData.username}\r\n//                     onChange={handleChange}\r\n//                     required\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div className=\"mb-4\">\r\n//                   <label htmlFor=\"role\" className=\"form-label fw-bold\">\r\n//                     Role\r\n//                   </label>\r\n//                   <select\r\n//                     id=\"role\"\r\n//                     name=\"role\"\r\n//                     className=\"form-control form-control-lg\"\r\n//                     value={formData.role}\r\n//                     onChange={handleChange}\r\n//                     required\r\n//                   >\r\n//                     <option value=\"\">Select Role</option>\r\n//                     <option value=\"Super Admin\">Super Admin</option>\r\n//                     <option value=\"Admin\">Admin</option>\r\n//                     <option value=\"User\">User</option>\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <button\r\n//                   type=\"submit\"\r\n//                   className=\"btn btn-primary w-100 btn-lg mb-3\"\r\n//                   disabled={isLoading}\r\n//                   style={{\r\n//                     borderRadius: \"10px\",\r\n//                     background: \"#007bff\",\r\n//                     borderColor: \"#007bff\",\r\n//                   }}\r\n//                 >\r\n//                   {isLoading ? (\r\n//                     <>\r\n//                       <span\r\n//                         className=\"spinner-border spinner-border-sm me-2\"\r\n//                         role=\"status\"\r\n//                         aria-hidden=\"true\"\r\n//                       ></span>\r\n//                       Logging in...\r\n//                     </>\r\n//                   ) : (\r\n//                     \"Sign in\"\r\n//                   )}\r\n//                 </button>\r\n//               </form>\r\n//               <p>Don't have an account?</p>\r\n//               <button className=\"btn btn-success bg-opacity-25 form-control btn-lg\" onSubmit={(window.location.href =\"/register\")}>\r\n//                 register\r\n//               </button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default LogPage;\r\n\r\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}